/**
 * jQuery Noty Plugin v0.1
 * Authors: Nedim Arabacı (http://ned.im), Muhittin Özer (http://muhittinozer.com)
 * 
 * http://needim.github.com/noty/
 *
 * Licensed under the MIT licenses:
 * http://www.opensource.org/licenses/mit-license.php
 *
 **/
function noty(a){$.fn.noty(a)}(function(a){a.noty=function(b){var c=this;c.init=function(){c.options=a.extend({},a.noty.defaultOptions,b);if(c.options.layout!="topLeft"&&c.options.layout!="topRight"){if(c.options.force){a.noty.queue.unshift({options:c.options})}else{a.noty.queue.push({options:c.options})}c.render();a.noty.available=false}else{a.noty.available=true;c.render({options:c.options})}};c.render=function(b){if(a.noty.available){var d=jQuery.type(b)==="object"?b:a.noty.queue.shift();if(jQuery.type(d)==="object"){if(d.options.layout=="topLeft"||d.options.layout=="topRight"){if(a("ul.noty_container."+d.options.layout).length>0){c.$noty_container=a("ul.noty_container."+d.options.layout)}else{c.$noty_container=a("<ul/>").addClass("noty_container").addClass(d.options.layout);a("body").prepend(c.$noty_container)}c.$notyContainer=a("<li/>");c.$noty_container.prepend(c.$notyContainer)}else{c.$notyContainer=a("body")}c.$bar=a("<div/>").addClass("noty_bar");c.$message=a("<div/>").addClass("noty_message");c.$close=a("<div/>").addClass("noty_close");c.$bar.append(c.$message).append(c.$close);var e=c.$bar;e.data("noty_options",d.options);e.addClass(d.options.layout).addClass(d.options.type);e.find(".noty_message").html(d.options.text).css({textAlign:d.options.textAlign});d.options.closable?e.find(".noty_close").show():e.find(".noty_close").remove();e.find(".noty_close").bind("click",function(){e.trigger("noty.close")});if(d.options.modal){a("<div />").addClass("noty_modal").prependTo(a("body")).css(d.options.modalCss).fadeIn("fast")}c.$notyContainer.prepend(e);e.one("noty.close",function(b,d){var f=e.data("noty_options");e.stop().animate(e.data("noty_options").animateClose,e.data("noty_options").speed,e.data("noty_options").easing,e.data("noty_options").onClose).promise().done(function(){if(f.layout=="topLeft"||f.layout=="topRight"){e.parent().remove()}else{e.remove()}a(".noty_modal").fadeOut("fast",function(){a(this).remove()});if(a.isFunction(d)){d.apply()}if(f.layout!="topLeft"&&f.layout!="topRight"){a.noty.available=true;c.render()}})});if(d.options.buttons){$buttons=a("<div/>").addClass("noty_buttons");e.find(".noty_message").append($buttons);a.each(d.options.buttons,function(b,c){bclass=c.type?c.type:"gray";a("<button/>").addClass(bclass).html(c.text).appendTo(e.find(".noty_buttons")).one("click",function(){e.trigger("noty.close",c.click)})})}e.animate(d.options.animateOpen,d.options.speed,d.options.easing,d.options.onShow);if(d.options.timeout){e.delay(d.options.timeout).promise().done(function(){e.trigger("noty.close")})}}}};c.init()};a.noty.queue=[];a.noty.clearQueue=function(){a.noty.queue=[]};a.noty.close=function(){a(".noty_bar:first").trigger("noty.close")};a.noty.closeAll=function(){a.noty.clearQueue();a(".noty_bar").trigger("noty.close")};a.noty.available=true;a.noty.defaultOptions={layout:"top",animateOpen:{height:"toggle"},animateClose:{height:"toggle"},easing:"swing",text:"null",textAlign:"center",type:"alert",speed:500,timeout:5e3,closable:true,force:false,onShow:false,onClose:false,buttons:false,modal:false,modalCss:{opacity:.6}};a.fn.noty=function(b){return new a.noty(b)}})(jQuery)